<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ouzbek Global - RAPPORT D'ARCHITECTURE ET DE S√âCURISATION - SRV-SQL</title>
    <style>
        /* [M√™mes styles que pr√©c√©demment] */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: #f5f7fa;
            color: #1e293b;
            line-height: 1.6;
            padding: 2rem 1rem;
        }

        .report-container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 40px -15px rgba(0,20,40,0.2);
            overflow: hidden;
        }

        .report-header {
            background: #0a2c3d;
            color: white;
            padding: 2.5rem 3rem;
        }

        .report-header h1 {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            letter-spacing: -0.01em;
        }

        .report-header .subtitle {
            font-size: 1.2rem;
            opacity: 0.85;
            font-weight: 400;
        }

        .meta-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .meta-item {
            display: flex;
            flex-direction: column;
        }

        .meta-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.7;
        }

        .meta-value {
            font-size: 1.1rem;
            font-weight: 500;
        }

        .report-content {
            padding: 2.5rem 3rem;
        }

        h2 {
            font-size: 1.6rem;
            font-weight: 600;
            color: #0a2c3d;
            margin: 2.2rem 0 1rem 0;
            padding-bottom: 0.4rem;
            border-bottom: 2px solid #e0e7ef;
        }

        h2:first-of-type {
            margin-top: 0;
        }

        h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1e4a6d;
            margin: 1.5rem 0 0.5rem 0;
        }

        .section-intro {
            background: linear-gradient(to right, #f8fafc, #ffffff);
            border-left: 6px solid #0a2c3d;
            padding: 1.2rem 1.8rem;
            margin-bottom: 1.8rem;
            font-size: 1.1rem;
            font-weight: 500;
            color: #1e293b;
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
            border-radius: 0 12px 12px 0;
        }

        .section-intro strong {
            color: #0a2c3d;
            font-weight: 700;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }

        th {
            background: #f0f4f8;
            font-weight: 600;
            padding: 0.75rem 1rem;
            text-align: left;
            color: #1e293b;
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .stat-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #0a2c3d;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #475569;
            text-transform: uppercase;
        }

        .image-container {
            margin: 2rem 0;
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
        }

        .image-container img {
            width: 100%;
            height: auto;
            display: block;
            border-bottom: 1px solid #eef2f6;
        }

        .image-caption {
            background: #f9fafc;
            padding: 0.8rem 1.2rem;
            font-size: 0.9rem;
            color: #475569;
            font-weight: 500;
            border-top: 1px solid #e2e8f0;
        }

        .image-caption span {
            font-family: 'SF Mono', monospace;
            background: #edf2f7;
            padding: 0.2rem 0.5rem;
            border-radius: 6px;
            font-size: 0.8rem;
            color: #2d4b6e;
            margin-left: 0.5rem;
        }

        hr {
            border: none;
            border-top: 2px dashed #bac8d9;
            margin: 2.5rem 0;
        }

        pre {
            background: #f1f5f9;
            padding: 1rem;
            border-radius: 12px;
            font-size: 0.9rem;
            border: 1px solid #d1d9e6;
            white-space: pre-wrap;
            font-family: 'SF Mono', monospace;
        }

        ul, ol {
            margin-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .justification-box {
            background: #f4f9ff;
            border-left: 4px solid #1e4a6d;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 0 12px 12px 0;
        }

        .signature-block {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 2px solid #e2e8f0;
        }

        .signature-line {
            width: 250px;
            border-bottom: 2px solid #0a2c3d;
            margin: 0.5rem 0;
        }

        @media (max-width: 650px) {
            .report-header, .report-content { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <!-- Header -->
        <div class="report-header">
            <h1>RAPPORT D'ARCHITECTURE ET DE S√âCURISATION</h1>
            <div class="subtitle">Plateforme de Base de Donn√©es Centralis√©e (MariaDB)</div>
            <div class="meta-grid">
                <div class="meta-item"><span class="meta-label">Date</span><span class="meta-value">13 F√©vrier 2026</span></div>
                <div class="meta-item"><span class="meta-label">R√©dacteur</span><span class="meta-value">Sugira Yannick</span></div>
                <div class="meta-item"><span class="meta-label">Version</span><span class="meta-value">1.0 - Synth√®se Direction</span></div>
                <div class="meta-item"><span class="meta-label">Domaine</span><span class="meta-value">ouzbek.global</span></div>
                <div class="meta-item"><span class="meta-label">Serveur principal</span><span class="meta-value">172.16.11.5 (LAN)</span></div>
                <div class="meta-item"><span class="meta-label">Services h√©berg√©s</span><span class="meta-value">Messagerie, Nextcloud, ITSM</span></div>
            </div>
        </div>

        <!-- Content -->
        <div class="report-content">
            <!-- 1. CONTEXTE ET OBJECTIFS -->
            <h2>1. CONTEXTE ET OBJECTIFS</h2>
            <div class="section-intro">
                <strong>üóÑÔ∏è Le coffre-fort num√©rique de l'entreprise.</strong> La base de donn√©es centralis√©e est le c≈ìur du syst√®me d'information. Elle regroupe les donn√©es critiques de la messagerie, de la plateforme collaborative et de la gestion des services IT, garantissant leur coh√©rence et leur s√©curit√©.
            </div>

            <p>Dans le cadre de la refonte compl√®te de son syst√®me d'information, l'entreprise Ouzbek Global (activit√© e-commerce) doit se doter d'une <strong>plateforme de base de donn√©es centralis√©e, s√©curis√©e et performante</strong> pour h√©berger les donn√©es de ses applications m√©tier (messagerie, Nextcloud, ITSM).</p>

            <h3>Objectifs poursuivis :</h3>
            <table>
                <tr><th>Objectif</th><th>B√©n√©fice attendu</th></tr>
                <tr><td><strong>Centraliser les donn√©es applicatives</strong></td><td>Coh√©rence, administration unique, mutualisation des ressources</td></tr>
                <tr><td><strong>Isoler les donn√©es en LAN</strong></td><td>Aucune exposition directe √† Internet, r√©duction de la surface d'attaque</td></tr>
                <tr><td><strong>S√©curiser les acc√®s</strong></td><td>Tunnels SSH depuis la DMZ, comptes applicatifs d√©di√©s</td></tr>
                <tr><td><strong>Garantir la tra√ßabilit√©</strong></td><td>Journalisation des connexions</td></tr>
                <tr><td><strong>Assurer la conformit√©</strong></td><td>R√©pondre aux exigences ANSSI et RGPD</td></tr>
            </table>

            <hr>

            <!-- 2. P√âRIM√àTRE ET PRINCIPES DE S√âCURIT√â -->
            <h2>2. P√âRIM√àTRE ET PRINCIPES DE S√âCURIT√â</h2>
            <div class="section-intro">
                <strong>üõ°Ô∏è Un sanctuaire de donn√©es.</strong> Le serveur SQL est prot√©g√© par une enceinte num√©rique stricte : isol√© en LAN, accessible uniquement par des tunnels SSH, et administr√© via l'Active Directory. Aucun compromis sur la s√©curit√© des donn√©es.
            </div>

            <p>Le p√©rim√®tre couvert par ce d√©ploiement inclut :</p>
            <ul>
                <li><strong>Le serveur de base de donn√©es</strong> : MariaDB</li>
                <li><strong>Les bases de donn√©es applicatives</strong> : mailserver, nextcloud, glpi, roundcubemail</li>
                <li><strong>Les utilisateurs applicatifs</strong> : mailuser, nextcloud, glpi, roundcube</li>
                <li><strong>L'int√©gration √† l'Active Directory</strong> pour l'administration</li>
            </ul>

            <h3>Principes de s√©curit√© appliqu√©s :</h3>
            <table>
                <tr><th>Principe</th><th>Impl√©mentation</th></tr>
                <tr><td><strong>Isolation r√©seau</strong></td><td>Serveur en LAN, aucun acc√®s direct depuis Internet</td></tr>
                <tr><td><strong>Moindre privil√®ge</strong></td><td>Comptes applicatifs d√©di√©s avec droits limit√©s √† leur propre base</td></tr>
                <tr><td><strong>Chiffrement</strong></td><td>Communications via tunnels SSH depuis la DMZ</td></tr>
                <tr><td><strong>Authentification forte</strong></td><td>Int√©gration AD pour les administrateurs, mots de passe hach√©s (SHA-512)</td></tr>
                <tr><td><strong>Tra√ßabilit√©</strong></td><td>Journalisation des connexions</td></tr>
                <tr><td><strong>Sauvegarde</strong></td><td>Dumps quotidiens automatis√©s avec r√©tention 30 jours</td></tr>
            </table>

            <hr>

            <!-- 3. ARCHITECTURE GLOBALE ET JUSTIFICATIONS -->
            <h2>3. ARCHITECTURE GLOBALE ET JUSTIFICATIONS</h2>

            <h3>3.1. Choix de l'isolation en LAN</h3>
            <div class="section-intro">
                <strong>üèóÔ∏è L'invisibilit√© comme premi√®re protection.</strong> Placer la base de donn√©es en LAN, sans aucune exposition directe √† Internet, est la mesure de s√©curit√© la plus efficace. Elle rend les donn√©es litt√©ralement invisibles aux yeux des attaquants ext√©rieurs.
            </div>

            <p>Le serveur SQL est positionn√© en <strong>zone LAN</strong>, inaccessible depuis Internet.</p>

            <pre>INTERNET ‚Üí Pare-feu ‚Üí DMZ ‚Üí [Tunnels SSH] ‚Üí LAN (SRV-SQL: 172.16.11.5)</pre>

            <div class="justification-box">
                <p><strong>Justification :</strong></p>
                <ul>
                    <li>‚úÖ <strong>R√©duction de la surface d'attaque</strong> : aucun port SQL expos√© publiquement.</li>
                    <li>‚úÖ <strong>Protection des donn√©es sensibles</strong> : comptes utilisateurs, informations clients.</li>
                    <li>‚úÖ <strong>Conformit√© ANSSI</strong> : s√©paration stricte des zones.</li>
                </ul>
                <p><strong>Alternatives envisag√©es :</strong></p>
                <ul>
                    <li><em>Serveur SQL en DMZ</em> : rejet√© car trop risqu√© (exposition directe).</li>
                </ul>
            </div>

            <div class="image-container">
                <img src="Images/ARCHITECTURE_RESEAU_SIMPLIFIE.png" alt="Architecture SQL">
                <div class="image-caption">
                    Sch√©ma 1 ‚Äì Isolation du serveur SQL en LAN <span>ARCHITECTURE_R√âSEAU_SIMPLIFI√âE.png</span>
                </div>
            </div>

            <h3>3.2. Choix de MariaDB</h3>
            <div class="section-intro">
                <strong>‚ö° La puissance open source au service de l'entreprise.</strong> MariaDB allie les performances d'un SGBD de classe mondiale √† la flexibilit√© et √† l'absence de co√ªts de licence, le tout soutenu par une communaut√© dynamique.
            </div>

            <div class="justification-box">
                <p><strong>Justification :</strong></p>
                <ul>
                    <li>‚úÖ <strong>Performance</strong> : optimis√© pour les charges de travail mixtes (OLTP).</li>
                    <li>‚úÖ <strong>Fiabilit√©</strong> : √©prouv√© dans des environnements de production exigeants.</li>
                    <li>‚úÖ <strong>Open source</strong> : pas de co√ªts de licence, communaut√© active.</li>
                    <li>‚úÖ <strong>Fonctionnalit√©s</strong> : moteur InnoDB performant, support des transactions ACID.</li>
                </ul>
                <p><strong>Alternatives envisag√©es :</strong></p>
                <ul>
                    <li><em>PostgreSQL</em> : rejet√© pour une complexit√© de configuration jug√©e plus √©lev√©e pour ce projet.</li>
                    <li><em>MySQL Oracle</em> : rejet√© en raison des risques de licence.</li>
                </ul>
            </div>

            <div class="image-container">
                <img src="Images/sql_01_root_login.png" alt="Connexion root">
                <div class="image-caption">
                    Figure 1 ‚Äì Connexion root √† MariaDB <span>sql_01_root_login.png</span>
                </div>
            </div>

            <div class="image-container">
                <img src="Images/sql_01_bases_donnees.png" alt="Bases de donn√©es">
                <div class="image-caption">
                    Figure 2 ‚Äì Bases de donn√©es h√©berg√©es <span>sql_01_bases_donnees.png</span>
                </div>
            </div>

            <h3>3.3. Gestion des comptes applicatifs (moindre privil√®ge)</h3>
            <div class="section-intro">
                <strong>üîë Le principe du moindre privil√®ge : chaque application n'a acc√®s qu'√† ce dont elle a besoin.</strong> Cette approche limite drastiquement l'impact d'une √©ventuelle compromission.
            </div>

            <p>Chaque application dispose d'un compte d√©di√© avec des droits strictement n√©cessaires.</p>

            <div class="justification-box">
                <p><strong>Justification :</strong></p>
                <ul>
                    <li>‚úÖ <strong>S√©curit√©</strong> : une application compromise ne peut pas acc√©der aux donn√©es des autres.</li>
                    <li>‚úÖ <strong>Tra√ßabilit√©</strong> : les actions sont attribuables √† une application sp√©cifique.</li>
                </ul>
            </div>

            <div class="image-container">
                <img src="Images/sql_02_utilisateur_mailuser.png" alt="Utilisateur mailuser">
                <div class="image-caption">
                    Figure 3 ‚Äì Utilisateur mailuser et ses privil√®ges <span>sql_02_utilisateur_mailuser.png</span>
                </div>
            </div>

            <div class="image-container">
                <img src="Images/sql_03_table_virtual_users.png" alt="Table virtual_users">
                <div class="image-caption">
                    Figure 4 ‚Äì Contenu de la table virtual_users (messagerie) <span>sql_03_table_virtual_users.png</span>
                </div>
            </div>

            <div class="image-container">
                <img src="Images/sql_03_credentials.png" alt="Fichier credentials">
                <div class="image-caption">
                    Figure 5 ‚Äì Fichier d'identifiants g√©n√©r√© <span>sql_03_credentials.png</span>
                </div>
            </div>

            <h3>3.4. Int√©gration √† l'Active Directory</h3>
            <div class="section-intro">
                <strong>üè¢ Une administration unifi√©e et s√©curis√©e.</strong> L'int√©gration √† l'Active Directory permet de g√©rer les acc√®s des administrateurs avec les m√™mes politiques que le reste de l'infrastructure, simplifiant la gestion et renfor√ßant la s√©curit√©.
            </div>

            <div class="justification-box">
                <p><strong>Justification :</strong></p>
                <ul>
                    <li>‚úÖ <strong>Centralisation</strong> : gestion unifi√©e des comptes administrateurs.</li>
                    <li>‚úÖ <strong>S√©curit√©</strong> : b√©n√©fice des GPO pour le durcissement.</li>
                    <li>‚úÖ <strong>Authentification Kerberos</strong> possible.</li>
                </ul>
                <p><strong>Alternatives envisag√©es :</strong></p>
                <ul>
                    <li><em>Comptes locaux uniquement</em> : rejet√© pour complexit√© d'administration.</li>
                </ul>
            </div>

            <div class="image-container">
                <img src="Images/sql_05_ad_integration.png" alt="Int√©gration AD">
                <div class="image-caption">
                    Figure 6 ‚Äì Int√©gration au domaine ouzbek.global <span>sql_05_ad_integration.png</span>
                </div>
            </div>

            <hr>

            <!-- 4. S√âCURIT√â AVANC√âE ET DURCISSEMENT -->
            <h2>4. S√âCURIT√â AVANC√âE ET DURCISSEMENT</h2>

            <h3>4.1. Pare-feu nftables</h3>
            <div class="section-intro">
                <strong>üî• Un p√©rim√®tre infranchissable.</strong> Les r√®gles nftables sont configur√©es en "tout bloquer, puis autoriser" : seuls les flux strictement n√©cessaires (SSH depuis le SRV, MySQL depuis SRV-MAIL) sont permis.
            </div>

            <p>R√®gles restrictives : seul le port SSH est ouvert depuis le LAN d'administration.</p>

            <div class="image-container">
                <img src="Images/sql_01_nftable_rules.png" alt="R√®gles nftables SQL">
                <div class="image-caption">
                    Figure 7 ‚Äì R√®gles nftables sur SRV-SQL <span>sql_nftables_rules.png</span>
                </div>
            </div>

            <h3>4.2. Hachage des mots de passe</h3>
            <div class="section-intro">
                <strong>üîê Une protection irr√©versible des mots de passe.</strong> L'utilisation de SHA-512 avec sel garantit que m√™me en cas de fuite de donn√©es, les mots de passe restent inexploitables.
            </div>

            <p>Les mots de passe sont stock√©s avec l'algorithme SHA-512 (sel).</p>

            <div class="justification-box">
                <p><strong>Justification :</strong></p>
                <ul>
                    <li>‚úÖ Conforme aux recommandations de l'ANSSI.</li>
                </ul>
            </div>

            <h3>4.3. Audit Lynis</h3>
            <div class="section-intro">
                <strong>üìä Une transparence totale sur notre niveau de s√©curit√©.</strong> L'audit Lynis confirme un score de 96/100, attestant de l'efficacit√© de nos mesures de durcissement et de notre conformit√©.
            </div>

            <div class="image-container">
                <img src="Images/sql_08_lynis_audit.png" alt="Audit Lynis SQL">
                <div class="image-caption">
                    Figure 8 ‚Äì Audit de s√©curit√© Lynis (score 96/100) <span>sql_08_lynis_audit.png</span>
                </div>
            </div>

            <hr>

            <!-- 5. TESTS DE VALIDATION -->
            <h2>5. TESTS DE VALIDATION</h2>
            <div class="section-intro">
                <strong>‚úÖ La preuve par les faits.</strong> Chaque fonctionnalit√© a √©t√© test√©e et valid√©e, de la connexion root √† l'int√©gration AD, en passant par les privil√®ges applicatifs.
            </div>

            <table>
                <tr><th>Test</th><th>M√©thode</th><th>R√©sultat</th></tr>
                <tr><td>Connexion root</td><td><code>mysql -u root -p</code></td><td>‚úÖ R√©ussie</td></tr>
                <tr><td>Connexion mailuser</td><td><code>mysql -u mailuser -p...</code></td><td>‚úÖ R√©ussie (avec le bon mot de passe)</td></tr>
                <tr><td>Bases pr√©sentes</td><td><code>SHOW DATABASES;</code></td><td>‚úÖ mailserver, nextcloud, glpi</td></tr>
                <tr><td>Int√©gration AD</td><td><code>realm list</code></td><td>‚úÖ Domaine ouzbek.global</td></tr>
                <tr><td>Pare-feu</td><td>V√©rification des r√®gles</td><td>‚úÖ SSH uniquement depuis SRV</td></tr>
            </table>

            <hr>

            <!-- 6. CONCLUSION ET PROCHAINES √âTAPES -->
            <h2>6. CONCLUSION ET PROCHAINES √âTAPES</h2>
            <div class="section-intro">
                <strong>üéØ Une base de donn√©es solide pour soutenir la croissance.</strong> La plateforme est op√©rationnelle, s√©curis√©e et parfaitement int√©gr√©e. Les prochaines √©tapes visent √† renforcer sa r√©silience et √† automatiser sa maintenance.
            </div>

            <h3>6.1. Bilan</h3>
            <p>Le serveur de base de donn√©es centralis√© apporte √† Ouzbek Global :</p>
            <ul>
                <li>‚úÖ <strong>Centralisation</strong> des donn√©es critiques.</li>
                <li>‚úÖ <strong>Isolation r√©seau</strong> conforme ANSSI.</li>
                <li>‚úÖ <strong>S√©curit√© renforc√©e</strong> par comptes d√©di√©s et mots de passe hach√©s.</li>
                <li>‚úÖ <strong>Int√©gration AD</strong> pour l'administration.</li>
            </ul>

            <h3>6.2. Prochaines √©tapes (calendrier pr√©visionnel)</h3>

            <table>
                <tr><th>√âtape</th><th>√âch√©ance</th><th>Objectif</th></tr>
                <tr><td>Mise en place d'un cluster (Galera)</td><td>T2 2026</td><td>Haute disponibilit√©</td></tr>
                <tr><td>Chiffrement au repos</td><td>T2 2026</td><td>Donn√©es chiffr√©es sur disque</td></tr>
                <tr><td>Audit des comptes</td><td>Trimestriel</td><td>Revue des droits applicatifs</td></tr>
                <tr><td>Tests de restauration</td><td>Mensuel</td><td>Validation des sauvegardes</td></tr>
            </table>

            <hr>

            <!-- Signature -->
            <div class="signature-block">
                <div>
                    <div><strong>Rapport valid√© le :</strong> 13 F√©vrier 2026</div>
                    <div><strong>Par : Sugira Yannick,</strong> Administrateur Syst√®me & R√©seau</div>
                </div>
                <div style="text-align:right;">
                    <div class="signature-line"></div>
                    <div style="font-size:0.9rem; color:#475569;">Approbation Direction</div>
                </div>
            </div>

            <div style="margin-top:2rem; font-size:0.8rem; color:#7f8c8d; text-align:center; border-top:1px solid #d1d9e6; padding-top:1rem;">
                Document confidentiel - Ouzbek Global - Plateforme Base de Donn√©es
            </div>
        </div>
    </div>
</body>
</html>
